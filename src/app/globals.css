/* src/app/globals.css */

/* Tailwind directives (must be the first lines) */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Material Symbols Icons */
@import url('https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@200..700');
@import url('https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0');

/* Material Design 3 Color System - Teal Primary */
:root {
  /* Primary Colors - Teal */
  --md-primary: #006A60;
  --md-on-primary: #FFFFFF;
  --md-primary-container: #9FF2E6;
  --md-on-primary-container: #00201C;
  
  /* Secondary Colors - Harmonious Blue-Green */
  --md-secondary: #4A635F;
  --md-on-secondary: #FFFFFF;
  --md-secondary-container: #CCE8E2;
  --md-on-secondary-container: #05201C;
  
  /* Tertiary Colors - Warm Accent */
  --md-tertiary: #456179;
  --md-on-tertiary: #FFFFFF;
  --md-tertiary-container: #CCE8FF;
  --md-on-tertiary-container: #001E31;
  
  /* Error Colors */
  --md-error: #BA1A1A;
  --md-on-error: #FFFFFF;
  --md-error-container: #FFDAD6;
  --md-on-error-container: #410002;
  
  /* Neutral Colors */
  --md-surface: #FCFDF8;
  --md-on-surface: #191C1A;
  --md-surface-variant: #DAE5E0;
  --md-on-surface-variant: #3F4945;
  --md-outline: #6F7975;
  --md-outline-variant: #BEC9C4;
  
  /* Canvas Colors */
  --canvas-bg: #F5F5F0;
  
  /* Sticky Note Colors */
  --sticky-decision: #FFF7B3;
  --sticky-decision-fold: rgba(0,0,0,0.14);
  --sticky-data: #DCFCE7;
  --sticky-data-fold: rgba(31,122,31,0.22);
  --sticky-opportunity: #CDE3FF;
  --sticky-opportunity-fold: rgba(30,64,175,0.18);
  --sticky-choice: #F6E7B2;
  --sticky-choice-fold: rgba(0,0,0,0.14);
}

/* Base Styling */
body {
  background-color: var(--md-surface);
  color: var(--md-on-surface);
}

/* Material Symbols */
.material-symbols-outlined,
.material-symbols-rounded {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
  line-height: 1;
  user-select: none;
}

.icon {
  @apply material-symbols-rounded text-xl leading-none;
}

/* Container System */
.container {
  @apply mx-auto max-w-6xl px-4 sm:px-6 lg:px-8;
}

/* Card System */
.card {
  @apply rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden;
}

.card-pad {
  @apply p-6;
}

.card-header {
  @apply px-6 py-4 border-b border-slate-100 bg-slate-50/50;
}

.card-body {
  @apply p-6;
}

/* Material Design 3 Button System */
.btn {
  @apply inline-flex items-center justify-center gap-2 rounded-full px-6 py-3 text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
}

/* Primary Button (Filled) */
.btn-primary {
  background-color: var(--md-primary);
  color: var(--md-on-primary);
  @apply shadow-md hover:shadow-lg active:shadow;
}

.btn-primary:hover {
  background-color: color-mix(in srgb, var(--md-primary) 90%, black);
}

.btn-primary:focus {
  @apply ring-teal-500;
}

/* Secondary Button (Outlined) */
.btn-secondary {
  @apply border border-slate-300 bg-transparent text-slate-700 hover:bg-slate-50 focus:ring-slate-300;
}

/* Teal Accent Button */
.btn-accent,
.btn-teal {
  background-color: var(--md-primary);
  color: var(--md-on-primary);
  @apply shadow-md hover:shadow-lg active:shadow;
}

.btn-accent:hover,
.btn-teal:hover {
  background-color: color-mix(in srgb, var(--md-primary) 85%, black);
}

.btn-accent:focus,
.btn-teal:focus {
  @apply ring-teal-500;
}

/* Danger Button */
.btn-danger {
  background-color: var(--md-error);
  color: var(--md-on-error);
  @apply shadow-md hover:shadow-lg active:shadow;
}

.btn-danger:hover {
  background-color: color-mix(in srgb, var(--md-error) 90%, black);
}

/* Text Button */
.btn-text {
  @apply px-4 py-2 text-slate-600 hover:bg-slate-100 focus:ring-slate-300;
}

/* Icon Button */
.btn-icon {
  @apply h-10 w-10 rounded-full p-0 text-slate-600 hover:bg-slate-100 focus:ring-slate-300;
}

/* Floating Action Buttons (FAB) */
.fab {
  @apply h-14 w-14 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-200;
}

.fab-primary {
  background-color: var(--md-primary);
  color: var(--md-on-primary);
  @apply hover:shadow-xl active:shadow-md;
}

.fab-secondary {
  background-color: var(--md-secondary-container);
  color: var(--md-on-secondary-container);
  @apply hover:shadow-xl active:shadow-md;
}

.fab-danger {
  @apply bg-white border border-red-300 text-red-600 hover:bg-red-50;
}

.fab-neutral {
  @apply bg-white border border-slate-300 text-slate-500 hover:bg-slate-50;
}

/* Form Elements */
.input,
.fld-input {
  @apply w-full rounded-lg border border-slate-300 px-3 py-2.5 text-sm transition-colors focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500;
}

.input:hover {
  @apply border-slate-400;
}

.textarea {
  @apply w-full rounded-lg border border-slate-300 px-3 py-2.5 text-sm transition-colors resize-none focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500;
}

.select {
  @apply w-full rounded-lg border border-slate-300 px-3 py-2.5 text-sm transition-colors focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500;
}

.checkbox {
  @apply h-4 w-4 rounded border-slate-300 text-teal-600 focus:ring-teal-500;
}

/* Form Labels */
.form-label,
.fld-label {
  @apply block text-xs font-medium text-slate-700 mb-1.5;
}

.section-title {
  @apply text-sm font-semibold text-slate-800 mt-6 mb-3 first:mt-0;
}

/* Panels (Inspector Panels) */
.panel {
  @apply rounded-2xl border border-slate-200 bg-white shadow-xl flex flex-col overflow-hidden;
}

.panel-header {
  @apply sticky top-0 z-10 flex items-center justify-between px-4 py-3 border-b border-slate-100 bg-white;
}

.panel-body {
  @apply flex-1 overflow-y-auto px-4 py-4;
}

.panel-title {
  @apply text-sm font-semibold text-slate-800;
}

/* Toolbar */
.toolbar {
  @apply absolute left-4 top-4 z-20 w-56 rounded-xl border border-slate-200 bg-white/95 backdrop-blur-sm p-4 shadow-lg;
}

.toolbar-section {
  @apply mb-4 last:mb-0;
}

.toolbar-title {
  @apply text-xs font-medium text-slate-600 mb-2;
}

/* Tool Tiles */
.tool-tile {
  @apply group relative flex flex-col items-center gap-1.5 rounded-lg border border-slate-200 bg-white p-3 shadow-sm cursor-grab hover:bg-slate-50 transition-colors active:cursor-grabbing;
}

.tool-title {
  @apply text-xs text-slate-600 group-hover:text-slate-900 font-medium;
}

/* Status Colors */
.status-success {
  @apply text-green-700 bg-green-50 border-green-200;
}

.status-warning {
  @apply text-amber-700 bg-amber-50 border-amber-200;
}

.status-error {
  @apply text-red-700 bg-red-50 border-red-200;
}

.status-info {
  @apply text-blue-700 bg-blue-50 border-blue-200;
}

/* Utilities */
.shadow-soft {
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

.divider {
  @apply border-t border-slate-200 my-4;
}

.text-muted {
  @apply text-slate-600;
}

.text-subtle {
  @apply text-slate-500;
}

/* Legacy Color Classes for Compatibility */
.text-dtl-charcoal {
  @apply text-slate-600;
}

.text-dtl-teal {
  color: var(--md-primary);
}

.bg-dtl-navy {
  @apply bg-slate-900;
}

.bg-dtl-teal {
  background-color: var(--md-primary);
}

/* ReactFlow Overrides */
.react-flow__pane {
  cursor: default;
}

.react-flow__selection {
  background-color: var(--md-primary-container);
  border: 1px solid var(--md-primary);
}

.react-flow__edge.selected .react-flow__edge-path {
  stroke: var(--md-primary);
}

.react-flow__handle {
  @apply border-2 border-white;
  background-color: var(--md-primary);
}

.react-flow__handle-connecting {
  background-color: var(--md-secondary);
}

.react-flow__handle-valid {
  background-color: var(--md-primary);
}

/* Animation Classes */
.animate-pulse-soft {
  animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse-soft {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

/* Responsive Design */
@media (max-width: 640px) {
  .container {
    @apply px-3;
  }
  
  .card-pad,
  .card-body {
    @apply p-4;
  }
  
  .btn {
    @apply px-4 py-2.5 text-sm;
  }
}

/* Dark Mode Support (Future) */
@media (prefers-color-scheme: dark) {
  :root {
    --md-surface: #0F1511;
    --md-on-surface: #E0E3DF;
    --canvas-bg: #1A1D1A;
  }
}
